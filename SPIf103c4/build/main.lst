ARM GAS  C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"main.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.MX_GPIO_Init,"ax",%progbits
  18              		.align	1
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  23              	MX_GPIO_Init:
  24              	.LFB78:
  25              		.file 1 "Core/Src/main.c"
   1:Core/Src/main.c **** /* USER CODE BEGIN Header */
   2:Core/Src/main.c **** /**
   3:Core/Src/main.c ****   ******************************************************************************
   4:Core/Src/main.c ****   * @file           : main.c
   5:Core/Src/main.c ****   * @brief          : Main program body
   6:Core/Src/main.c ****   ******************************************************************************
   7:Core/Src/main.c ****   * @attention
   8:Core/Src/main.c ****   *
   9:Core/Src/main.c ****   * Copyright (c) 2024 STMicroelectronics.
  10:Core/Src/main.c ****   * All rights reserved.
  11:Core/Src/main.c ****   *
  12:Core/Src/main.c ****   * This software is licensed under terms that can be found in the LICENSE file
  13:Core/Src/main.c ****   * in the root directory of this software component.
  14:Core/Src/main.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  15:Core/Src/main.c ****   *
  16:Core/Src/main.c ****   ******************************************************************************
  17:Core/Src/main.c ****   */
  18:Core/Src/main.c **** /* USER CODE END Header */
  19:Core/Src/main.c **** /* Includes ------------------------------------------------------------------*/
  20:Core/Src/main.c **** #include "main.h"
  21:Core/Src/main.c **** 
  22:Core/Src/main.c **** /* Private includes ----------------------------------------------------------*/
  23:Core/Src/main.c **** /* USER CODE BEGIN Includes */
  24:Core/Src/main.c **** #include "stdio.h"
  25:Core/Src/main.c **** #include "string.h"
  26:Core/Src/main.c **** /* USER CODE END Includes */
  27:Core/Src/main.c **** 
  28:Core/Src/main.c **** /* Private typedef -----------------------------------------------------------*/
  29:Core/Src/main.c **** /* USER CODE BEGIN PTD */
  30:Core/Src/main.c **** 
  31:Core/Src/main.c **** /* USER CODE END PTD */
  32:Core/Src/main.c **** 
  33:Core/Src/main.c **** /* Private define ------------------------------------------------------------*/
ARM GAS  C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s 			page 2


  34:Core/Src/main.c **** /* USER CODE BEGIN PD */
  35:Core/Src/main.c **** 
  36:Core/Src/main.c **** /* USER CODE END PD */
  37:Core/Src/main.c **** 
  38:Core/Src/main.c **** /* Private macro -------------------------------------------------------------*/
  39:Core/Src/main.c **** /* USER CODE BEGIN PM */
  40:Core/Src/main.c **** 
  41:Core/Src/main.c **** /* USER CODE END PM */
  42:Core/Src/main.c **** 
  43:Core/Src/main.c **** /* Private variables ---------------------------------------------------------*/
  44:Core/Src/main.c **** SPI_HandleTypeDef hspi1;
  45:Core/Src/main.c **** 
  46:Core/Src/main.c **** UART_HandleTypeDef huart1;
  47:Core/Src/main.c **** 
  48:Core/Src/main.c **** /* USER CODE BEGIN PV */
  49:Core/Src/main.c **** 
  50:Core/Src/main.c **** /* USER CODE END PV */
  51:Core/Src/main.c **** 
  52:Core/Src/main.c **** /* Private function prototypes -----------------------------------------------*/
  53:Core/Src/main.c **** void SystemClock_Config(void);
  54:Core/Src/main.c **** static void MX_GPIO_Init(void);
  55:Core/Src/main.c **** static void MX_SPI1_Init(void);
  56:Core/Src/main.c **** static void MX_USART1_UART_Init(void);
  57:Core/Src/main.c **** /* USER CODE BEGIN PFP */
  58:Core/Src/main.c **** 
  59:Core/Src/main.c **** /* USER CODE END PFP */
  60:Core/Src/main.c **** 
  61:Core/Src/main.c **** /* Private user code ---------------------------------------------------------*/
  62:Core/Src/main.c **** /* USER CODE BEGIN 0 */
  63:Core/Src/main.c **** uint8_t cmd_read_id = 0x9F;
  64:Core/Src/main.c **** uint8_t data_read[9];
  65:Core/Src/main.c **** char data_buffer[50];
  66:Core/Src/main.c **** 
  67:Core/Src/main.c **** void enable_write(void)
  68:Core/Src/main.c **** {
  69:Core/Src/main.c **** 	uint8_t code = 0x06;
  70:Core/Src/main.c **** 	HAL_GPIO_WritePin(F_CS_GPIO_Port, F_CS_Pin, 0);
  71:Core/Src/main.c **** 	HAL_SPI_Transmit(&hspi1, &code, 1, 10);
  72:Core/Src/main.c **** 	HAL_GPIO_WritePin(F_CS_GPIO_Port, F_CS_Pin, 1);
  73:Core/Src/main.c **** }
  74:Core/Src/main.c **** 
  75:Core/Src/main.c **** void disable_write(void)
  76:Core/Src/main.c **** {
  77:Core/Src/main.c **** 	uint8_t code = 0x04;
  78:Core/Src/main.c **** 	HAL_GPIO_WritePin(F_CS_GPIO_Port, F_CS_Pin, 0);
  79:Core/Src/main.c **** 	HAL_SPI_Transmit(&hspi1, &code, 1, 10);
  80:Core/Src/main.c **** 	HAL_GPIO_WritePin(F_CS_GPIO_Port, F_CS_Pin, 1);
  81:Core/Src/main.c **** }
  82:Core/Src/main.c **** 
  83:Core/Src/main.c **** uint8_t read_status(void)
  84:Core/Src/main.c **** {
  85:Core/Src/main.c ****     uint8_t code = 0x05;  
  86:Core/Src/main.c ****     uint8_t status = 0;
  87:Core/Src/main.c **** 
  88:Core/Src/main.c ****     HAL_GPIO_WritePin(F_CS_GPIO_Port, F_CS_Pin, 0);  
  89:Core/Src/main.c ****     HAL_SPI_Transmit(&hspi1, &code, 1, 10);          
  90:Core/Src/main.c ****     HAL_SPI_Receive(&hspi1, &status, 1, 10);         
ARM GAS  C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s 			page 3


  91:Core/Src/main.c ****     HAL_GPIO_WritePin(F_CS_GPIO_Port, F_CS_Pin, 1);  
  92:Core/Src/main.c **** 
  93:Core/Src/main.c ****     return status;
  94:Core/Src/main.c **** }
  95:Core/Src/main.c **** 
  96:Core/Src/main.c **** void wait_until_not_busy(void)
  97:Core/Src/main.c **** {
  98:Core/Src/main.c ****     uint8_t status;
  99:Core/Src/main.c ****     do {
 100:Core/Src/main.c ****         status = read_status();
 101:Core/Src/main.c ****     } while (status == 1);  	
 102:Core/Src/main.c **** }
 103:Core/Src/main.c **** 
 104:Core/Src/main.c **** void write_data(uint16_t add, uint8_t* data, uint16_t size)
 105:Core/Src/main.c **** {
 106:Core/Src/main.c **** 
 107:Core/Src/main.c **** 	uint8_t add_h = (add >> 8) & 0xFF;
 108:Core/Src/main.c **** 	uint8_t add_l = add & 0xFF;
 109:Core/Src/main.c **** 	uint8_t data_trans[3];
 110:Core/Src/main.c **** 
 111:Core/Src/main.c **** 	data_trans[0] = 0x02;
 112:Core/Src/main.c **** 	data_trans[1] = add_h;
 113:Core/Src/main.c **** 	data_trans[2] = add_l;
 114:Core/Src/main.c **** 
 115:Core/Src/main.c **** 	/*for (int i = 0;i < size; i++)
 116:Core/Src/main.c **** 	{
 117:Core/Src/main.c **** 		data_trans[i+3] = data[i];	
 118:Core/Src/main.c **** 	}*/
 119:Core/Src/main.c **** 
 120:Core/Src/main.c **** 	enable_write();
 121:Core/Src/main.c **** 
 122:Core/Src/main.c **** 	HAL_GPIO_WritePin(F_CS_GPIO_Port, F_CS_Pin, 0);
 123:Core/Src/main.c **** 	HAL_SPI_Transmit(&hspi1, &data_trans[0], 3, 100);
 124:Core/Src/main.c **** 	//wait_until_not_busy();
 125:Core/Src/main.c **** 	HAL_SPI_Transmit(&hspi1, &data[0], size, HAL_MAX_DELAY);
 126:Core/Src/main.c **** 	wait_until_not_busy();
 127:Core/Src/main.c **** 	HAL_GPIO_WritePin(F_CS_GPIO_Port, F_CS_Pin, 1);
 128:Core/Src/main.c **** 
 129:Core/Src/main.c **** 	disable_write();
 130:Core/Src/main.c **** }
 131:Core/Src/main.c **** 
 132:Core/Src/main.c **** void read_data(uint16_t add, uint8_t* data, uint16_t size)
 133:Core/Src/main.c **** {
 134:Core/Src/main.c **** 	uint8_t code = 0x03;
 135:Core/Src/main.c **** 	uint8_t add_h = (add >> 8) & 0xFF;
 136:Core/Src/main.c **** 	uint8_t add_l = add & 0xFF;
 137:Core/Src/main.c **** 	uint8_t add_trans[3] = {code, add_h, add_l};
 138:Core/Src/main.c **** 
 139:Core/Src/main.c **** 	HAL_GPIO_WritePin(F_CS_GPIO_Port, F_CS_Pin, 0);
 140:Core/Src/main.c **** 	HAL_SPI_Transmit(&hspi1, &add_trans[0], 3, 10);
 141:Core/Src/main.c **** 	HAL_SPI_Receive(&hspi1, &data[0], size, HAL_MAX_DELAY);
 142:Core/Src/main.c **** 	HAL_GPIO_WritePin(F_CS_GPIO_Port, F_CS_Pin, 1);
 143:Core/Src/main.c **** }
 144:Core/Src/main.c **** /* USER CODE END 0 */
 145:Core/Src/main.c **** 
 146:Core/Src/main.c **** /**
 147:Core/Src/main.c ****   * @brief  The application entry point.
ARM GAS  C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s 			page 4


 148:Core/Src/main.c ****   * @retval int
 149:Core/Src/main.c ****   */
 150:Core/Src/main.c **** int main(void)
 151:Core/Src/main.c **** {
 152:Core/Src/main.c ****   /* USER CODE BEGIN 1 */
 153:Core/Src/main.c **** 
 154:Core/Src/main.c ****   /* USER CODE END 1 */
 155:Core/Src/main.c **** 
 156:Core/Src/main.c ****   /* MCU Configuration--------------------------------------------------------*/
 157:Core/Src/main.c **** 
 158:Core/Src/main.c ****   /* Reset of all peripherals, Initializes the Flash interface and the Systick. */
 159:Core/Src/main.c ****   HAL_Init();
 160:Core/Src/main.c **** 
 161:Core/Src/main.c ****   /* USER CODE BEGIN Init */
 162:Core/Src/main.c **** 
 163:Core/Src/main.c ****   /* USER CODE END Init */
 164:Core/Src/main.c **** 
 165:Core/Src/main.c ****   /* Configure the system clock */
 166:Core/Src/main.c ****   SystemClock_Config();
 167:Core/Src/main.c **** 
 168:Core/Src/main.c ****   /* USER CODE BEGIN SysInit */
 169:Core/Src/main.c **** 
 170:Core/Src/main.c ****   /* USER CODE END SysInit */
 171:Core/Src/main.c **** 
 172:Core/Src/main.c ****   /* Initialize all configured peripherals */
 173:Core/Src/main.c ****   MX_GPIO_Init();
 174:Core/Src/main.c ****   MX_SPI1_Init();
 175:Core/Src/main.c ****   MX_USART1_UART_Init();
 176:Core/Src/main.c ****   /* USER CODE BEGIN 2 */
 177:Core/Src/main.c **** 	uint8_t data_write[256] = " hello\r\n";
 178:Core/Src/main.c **** 	uint8_t poem[] = "Toi yeu dat nuoc toi. Tu bao gio khong biet nua. Co the tu khi toi sinh ra, dat 
 179:Core/Src/main.c **** 	uint16_t size = strlen((char*)poem);
 180:Core/Src/main.c **** 	uint8_t data_size[2];
 181:Core/Src/main.c **** 	data_size[0] = (size >> 8) & 0xFF;
 182:Core/Src/main.c **** 	data_size[1] = size & 0xFF;
 183:Core/Src/main.c **** 	uint8_t data_trans[100];
 184:Core/Src/main.c **** 	uint8_t data_read[1024] = {0};
 185:Core/Src/main.c **** 
 186:Core/Src/main.c **** 	sprintf((char*)data_trans,"do dai data: %03d%03d",data_size[0],data_size[1]);
 187:Core/Src/main.c **** 	write_data(0x0000,&poem[0], size);
 188:Core/Src/main.c **** 	read_data(0x0000, &data_read[0], size);
 189:Core/Src/main.c **** 	HAL_UART_Transmit(&huart1, &data_trans[0], strlen((char*)data_trans), 100);
 190:Core/Src/main.c **** 	//HAL_UART_Transmit(&huart1, &data_read[0], size, HAL_MAX_DELAY);
 191:Core/Src/main.c ****   /* USER CODE END 2 */
 192:Core/Src/main.c **** 
 193:Core/Src/main.c ****   /* Infinite loop */
 194:Core/Src/main.c ****   /* USER CODE BEGIN WHILE */
 195:Core/Src/main.c ****   while (1)
 196:Core/Src/main.c ****   {
 197:Core/Src/main.c ****     /* USER CODE END WHILE */
 198:Core/Src/main.c **** 
 199:Core/Src/main.c ****     /* USER CODE BEGIN 3 */
 200:Core/Src/main.c **** 		
 201:Core/Src/main.c **** 	/*write_data(0x0000, &data_write[0], size);
 202:Core/Src/main.c **** 	read_data(0x0000, &data_read[0], size);
 203:Core/Src/main.c **** 	HAL_UART_Transmit(&huart1, &data_read[0], size, 100);
 204:Core/Src/main.c **** 
ARM GAS  C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s 			page 5


 205:Core/Src/main.c **** 	HAL_Delay(1000);*/
 206:Core/Src/main.c ****   }
 207:Core/Src/main.c ****   /* USER CODE END 3 */
 208:Core/Src/main.c **** }
 209:Core/Src/main.c **** 
 210:Core/Src/main.c **** /**
 211:Core/Src/main.c ****   * @brief System Clock Configuration
 212:Core/Src/main.c ****   * @retval None
 213:Core/Src/main.c ****   */
 214:Core/Src/main.c **** void SystemClock_Config(void)
 215:Core/Src/main.c **** {
 216:Core/Src/main.c ****   RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 217:Core/Src/main.c ****   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 218:Core/Src/main.c **** 
 219:Core/Src/main.c ****   /** Initializes the RCC Oscillators according to the specified parameters
 220:Core/Src/main.c ****   * in the RCC_OscInitTypeDef structure.
 221:Core/Src/main.c ****   */
 222:Core/Src/main.c ****   RCC_OscInitStruct.OscillatorType = RCC_OSCILLATORTYPE_HSE;
 223:Core/Src/main.c ****   RCC_OscInitStruct.HSEState = RCC_HSE_ON;
 224:Core/Src/main.c ****   RCC_OscInitStruct.HSEPredivValue = RCC_HSE_PREDIV_DIV1;
 225:Core/Src/main.c ****   RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 226:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 227:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;
 228:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL9;
 229:Core/Src/main.c ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 230:Core/Src/main.c ****   {
 231:Core/Src/main.c ****     Error_Handler();
 232:Core/Src/main.c ****   }
 233:Core/Src/main.c **** 
 234:Core/Src/main.c ****   /** Initializes the CPU, AHB and APB buses clocks
 235:Core/Src/main.c ****   */
 236:Core/Src/main.c ****   RCC_ClkInitStruct.ClockType = RCC_CLOCKTYPE_HCLK|RCC_CLOCKTYPE_SYSCLK
 237:Core/Src/main.c ****                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 238:Core/Src/main.c ****   RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_PLLCLK;
 239:Core/Src/main.c ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 240:Core/Src/main.c ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV2;
 241:Core/Src/main.c ****   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 242:Core/Src/main.c **** 
 243:Core/Src/main.c ****   if (HAL_RCC_ClockConfig(&RCC_ClkInitStruct, FLASH_LATENCY_2) != HAL_OK)
 244:Core/Src/main.c ****   {
 245:Core/Src/main.c ****     Error_Handler();
 246:Core/Src/main.c ****   }
 247:Core/Src/main.c **** }
 248:Core/Src/main.c **** 
 249:Core/Src/main.c **** /**
 250:Core/Src/main.c ****   * @brief SPI1 Initialization Function
 251:Core/Src/main.c ****   * @param None
 252:Core/Src/main.c ****   * @retval None
 253:Core/Src/main.c ****   */
 254:Core/Src/main.c **** static void MX_SPI1_Init(void)
 255:Core/Src/main.c **** {
 256:Core/Src/main.c **** 
 257:Core/Src/main.c ****   /* USER CODE BEGIN SPI1_Init 0 */
 258:Core/Src/main.c **** 
 259:Core/Src/main.c ****   /* USER CODE END SPI1_Init 0 */
 260:Core/Src/main.c **** 
 261:Core/Src/main.c ****   /* USER CODE BEGIN SPI1_Init 1 */
ARM GAS  C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s 			page 6


 262:Core/Src/main.c **** 
 263:Core/Src/main.c ****   /* USER CODE END SPI1_Init 1 */
 264:Core/Src/main.c ****   /* SPI1 parameter configuration*/
 265:Core/Src/main.c ****   hspi1.Instance = SPI1;
 266:Core/Src/main.c ****   hspi1.Init.Mode = SPI_MODE_MASTER;
 267:Core/Src/main.c ****   hspi1.Init.Direction = SPI_DIRECTION_2LINES;
 268:Core/Src/main.c ****   hspi1.Init.DataSize = SPI_DATASIZE_8BIT;
 269:Core/Src/main.c ****   hspi1.Init.CLKPolarity = SPI_POLARITY_LOW;
 270:Core/Src/main.c ****   hspi1.Init.CLKPhase = SPI_PHASE_1EDGE;
 271:Core/Src/main.c ****   hspi1.Init.NSS = SPI_NSS_SOFT;
 272:Core/Src/main.c ****   hspi1.Init.BaudRatePrescaler = SPI_BAUDRATEPRESCALER_64;
 273:Core/Src/main.c ****   hspi1.Init.FirstBit = SPI_FIRSTBIT_MSB;
 274:Core/Src/main.c ****   hspi1.Init.TIMode = SPI_TIMODE_DISABLE;
 275:Core/Src/main.c ****   hspi1.Init.CRCCalculation = SPI_CRCCALCULATION_DISABLE;
 276:Core/Src/main.c ****   hspi1.Init.CRCPolynomial = 10;
 277:Core/Src/main.c ****   if (HAL_SPI_Init(&hspi1) != HAL_OK)
 278:Core/Src/main.c ****   {
 279:Core/Src/main.c ****     Error_Handler();
 280:Core/Src/main.c ****   }
 281:Core/Src/main.c ****   /* USER CODE BEGIN SPI1_Init 2 */
 282:Core/Src/main.c **** 
 283:Core/Src/main.c ****   /* USER CODE END SPI1_Init 2 */
 284:Core/Src/main.c **** 
 285:Core/Src/main.c **** }
 286:Core/Src/main.c **** 
 287:Core/Src/main.c **** /**
 288:Core/Src/main.c ****   * @brief USART1 Initialization Function
 289:Core/Src/main.c ****   * @param None
 290:Core/Src/main.c ****   * @retval None
 291:Core/Src/main.c ****   */
 292:Core/Src/main.c **** static void MX_USART1_UART_Init(void)
 293:Core/Src/main.c **** {
 294:Core/Src/main.c **** 
 295:Core/Src/main.c ****   /* USER CODE BEGIN USART1_Init 0 */
 296:Core/Src/main.c **** 
 297:Core/Src/main.c ****   /* USER CODE END USART1_Init 0 */
 298:Core/Src/main.c **** 
 299:Core/Src/main.c ****   /* USER CODE BEGIN USART1_Init 1 */
 300:Core/Src/main.c **** 
 301:Core/Src/main.c ****   /* USER CODE END USART1_Init 1 */
 302:Core/Src/main.c ****   huart1.Instance = USART1;
 303:Core/Src/main.c ****   huart1.Init.BaudRate = 9600;
 304:Core/Src/main.c ****   huart1.Init.WordLength = UART_WORDLENGTH_8B;
 305:Core/Src/main.c ****   huart1.Init.StopBits = UART_STOPBITS_1;
 306:Core/Src/main.c ****   huart1.Init.Parity = UART_PARITY_NONE;
 307:Core/Src/main.c ****   huart1.Init.Mode = UART_MODE_TX_RX;
 308:Core/Src/main.c ****   huart1.Init.HwFlowCtl = UART_HWCONTROL_NONE;
 309:Core/Src/main.c ****   huart1.Init.OverSampling = UART_OVERSAMPLING_16;
 310:Core/Src/main.c ****   if (HAL_UART_Init(&huart1) != HAL_OK)
 311:Core/Src/main.c ****   {
 312:Core/Src/main.c ****     Error_Handler();
 313:Core/Src/main.c ****   }
 314:Core/Src/main.c ****   /* USER CODE BEGIN USART1_Init 2 */
 315:Core/Src/main.c **** 
 316:Core/Src/main.c ****   /* USER CODE END USART1_Init 2 */
 317:Core/Src/main.c **** 
 318:Core/Src/main.c **** }
ARM GAS  C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s 			page 7


 319:Core/Src/main.c **** 
 320:Core/Src/main.c **** /**
 321:Core/Src/main.c ****   * @brief GPIO Initialization Function
 322:Core/Src/main.c ****   * @param None
 323:Core/Src/main.c ****   * @retval None
 324:Core/Src/main.c ****   */
 325:Core/Src/main.c **** static void MX_GPIO_Init(void)
 326:Core/Src/main.c **** {
  26              		.loc 1 326 1 view -0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 24
  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30 0000 30B5     		push	{r4, r5, lr}
  31              	.LCFI0:
  32              		.cfi_def_cfa_offset 12
  33              		.cfi_offset 4, -12
  34              		.cfi_offset 5, -8
  35              		.cfi_offset 14, -4
  36 0002 87B0     		sub	sp, sp, #28
  37              	.LCFI1:
  38              		.cfi_def_cfa_offset 40
 327:Core/Src/main.c ****   GPIO_InitTypeDef GPIO_InitStruct = {0};
  39              		.loc 1 327 3 view .LVU1
  40              		.loc 1 327 20 is_stmt 0 view .LVU2
  41 0004 0024     		movs	r4, #0
  42 0006 0294     		str	r4, [sp, #8]
  43 0008 0394     		str	r4, [sp, #12]
  44 000a 0494     		str	r4, [sp, #16]
  45 000c 0594     		str	r4, [sp, #20]
 328:Core/Src/main.c **** /* USER CODE BEGIN MX_GPIO_Init_1 */
 329:Core/Src/main.c **** /* USER CODE END MX_GPIO_Init_1 */
 330:Core/Src/main.c **** 
 331:Core/Src/main.c ****   /* GPIO Ports Clock Enable */
 332:Core/Src/main.c ****   __HAL_RCC_GPIOD_CLK_ENABLE();
  46              		.loc 1 332 3 is_stmt 1 view .LVU3
  47              	.LBB4:
  48              		.loc 1 332 3 view .LVU4
  49              		.loc 1 332 3 view .LVU5
  50 000e 134B     		ldr	r3, .L3
  51 0010 9A69     		ldr	r2, [r3, #24]
  52 0012 42F02002 		orr	r2, r2, #32
  53 0016 9A61     		str	r2, [r3, #24]
  54              		.loc 1 332 3 view .LVU6
  55 0018 9A69     		ldr	r2, [r3, #24]
  56 001a 02F02002 		and	r2, r2, #32
  57 001e 0092     		str	r2, [sp]
  58              		.loc 1 332 3 view .LVU7
  59 0020 009A     		ldr	r2, [sp]
  60              	.LBE4:
  61              		.loc 1 332 3 view .LVU8
 333:Core/Src/main.c ****   __HAL_RCC_GPIOA_CLK_ENABLE();
  62              		.loc 1 333 3 view .LVU9
  63              	.LBB5:
  64              		.loc 1 333 3 view .LVU10
  65              		.loc 1 333 3 view .LVU11
  66 0022 9A69     		ldr	r2, [r3, #24]
  67 0024 42F00402 		orr	r2, r2, #4
ARM GAS  C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s 			page 8


  68 0028 9A61     		str	r2, [r3, #24]
  69              		.loc 1 333 3 view .LVU12
  70 002a 9B69     		ldr	r3, [r3, #24]
  71 002c 03F00403 		and	r3, r3, #4
  72 0030 0193     		str	r3, [sp, #4]
  73              		.loc 1 333 3 view .LVU13
  74 0032 019B     		ldr	r3, [sp, #4]
  75              	.LBE5:
  76              		.loc 1 333 3 view .LVU14
 334:Core/Src/main.c **** 
 335:Core/Src/main.c ****   /*Configure GPIO pin Output Level */
 336:Core/Src/main.c ****   HAL_GPIO_WritePin(F_CS_GPIO_Port, F_CS_Pin, GPIO_PIN_SET);
  77              		.loc 1 336 3 view .LVU15
  78 0034 0A4D     		ldr	r5, .L3+4
  79 0036 0122     		movs	r2, #1
  80 0038 0421     		movs	r1, #4
  81 003a 2846     		mov	r0, r5
  82 003c FFF7FEFF 		bl	HAL_GPIO_WritePin
  83              	.LVL0:
 337:Core/Src/main.c **** 
 338:Core/Src/main.c ****   /*Configure GPIO pin : F_CS_Pin */
 339:Core/Src/main.c ****   GPIO_InitStruct.Pin = F_CS_Pin;
  84              		.loc 1 339 3 view .LVU16
  85              		.loc 1 339 23 is_stmt 0 view .LVU17
  86 0040 0423     		movs	r3, #4
  87 0042 0293     		str	r3, [sp, #8]
 340:Core/Src/main.c ****   GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
  88              		.loc 1 340 3 is_stmt 1 view .LVU18
  89              		.loc 1 340 24 is_stmt 0 view .LVU19
  90 0044 0123     		movs	r3, #1
  91 0046 0393     		str	r3, [sp, #12]
 341:Core/Src/main.c ****   GPIO_InitStruct.Pull = GPIO_NOPULL;
  92              		.loc 1 341 3 is_stmt 1 view .LVU20
  93              		.loc 1 341 24 is_stmt 0 view .LVU21
  94 0048 0494     		str	r4, [sp, #16]
 342:Core/Src/main.c ****   GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  95              		.loc 1 342 3 is_stmt 1 view .LVU22
  96              		.loc 1 342 25 is_stmt 0 view .LVU23
  97 004a 0223     		movs	r3, #2
  98 004c 0593     		str	r3, [sp, #20]
 343:Core/Src/main.c ****   HAL_GPIO_Init(F_CS_GPIO_Port, &GPIO_InitStruct);
  99              		.loc 1 343 3 is_stmt 1 view .LVU24
 100 004e 02A9     		add	r1, sp, #8
 101 0050 2846     		mov	r0, r5
 102 0052 FFF7FEFF 		bl	HAL_GPIO_Init
 103              	.LVL1:
 344:Core/Src/main.c **** 
 345:Core/Src/main.c **** /* USER CODE BEGIN MX_GPIO_Init_2 */
 346:Core/Src/main.c **** /* USER CODE END MX_GPIO_Init_2 */
 347:Core/Src/main.c **** }
 104              		.loc 1 347 1 is_stmt 0 view .LVU25
 105 0056 07B0     		add	sp, sp, #28
 106              	.LCFI2:
 107              		.cfi_def_cfa_offset 12
 108              		@ sp needed
 109 0058 30BD     		pop	{r4, r5, pc}
 110              	.L4:
ARM GAS  C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s 			page 9


 111 005a 00BF     		.align	2
 112              	.L3:
 113 005c 00100240 		.word	1073876992
 114 0060 00080140 		.word	1073809408
 115              		.cfi_endproc
 116              	.LFE78:
 118              		.section	.text.enable_write,"ax",%progbits
 119              		.align	1
 120              		.global	enable_write
 121              		.syntax unified
 122              		.thumb
 123              		.thumb_func
 125              	enable_write:
 126              	.LFB68:
  68:Core/Src/main.c **** 	uint8_t code = 0x06;
 127              		.loc 1 68 1 is_stmt 1 view -0
 128              		.cfi_startproc
 129              		@ args = 0, pretend = 0, frame = 8
 130              		@ frame_needed = 0, uses_anonymous_args = 0
 131 0000 10B5     		push	{r4, lr}
 132              	.LCFI3:
 133              		.cfi_def_cfa_offset 8
 134              		.cfi_offset 4, -8
 135              		.cfi_offset 14, -4
 136 0002 82B0     		sub	sp, sp, #8
 137              	.LCFI4:
 138              		.cfi_def_cfa_offset 16
  69:Core/Src/main.c **** 	HAL_GPIO_WritePin(F_CS_GPIO_Port, F_CS_Pin, 0);
 139              		.loc 1 69 2 view .LVU27
  69:Core/Src/main.c **** 	HAL_GPIO_WritePin(F_CS_GPIO_Port, F_CS_Pin, 0);
 140              		.loc 1 69 10 is_stmt 0 view .LVU28
 141 0004 0623     		movs	r3, #6
 142 0006 8DF80730 		strb	r3, [sp, #7]
  70:Core/Src/main.c **** 	HAL_SPI_Transmit(&hspi1, &code, 1, 10);
 143              		.loc 1 70 2 is_stmt 1 view .LVU29
 144 000a 0A4C     		ldr	r4, .L7
 145 000c 0022     		movs	r2, #0
 146 000e 0421     		movs	r1, #4
 147 0010 2046     		mov	r0, r4
 148 0012 FFF7FEFF 		bl	HAL_GPIO_WritePin
 149              	.LVL2:
  71:Core/Src/main.c **** 	HAL_GPIO_WritePin(F_CS_GPIO_Port, F_CS_Pin, 1);
 150              		.loc 1 71 2 view .LVU30
 151 0016 0A23     		movs	r3, #10
 152 0018 0122     		movs	r2, #1
 153 001a 0DF10701 		add	r1, sp, #7
 154 001e 0648     		ldr	r0, .L7+4
 155 0020 FFF7FEFF 		bl	HAL_SPI_Transmit
 156              	.LVL3:
  72:Core/Src/main.c **** }
 157              		.loc 1 72 2 view .LVU31
 158 0024 0122     		movs	r2, #1
 159 0026 0421     		movs	r1, #4
 160 0028 2046     		mov	r0, r4
 161 002a FFF7FEFF 		bl	HAL_GPIO_WritePin
 162              	.LVL4:
  73:Core/Src/main.c **** 
ARM GAS  C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s 			page 10


 163              		.loc 1 73 1 is_stmt 0 view .LVU32
 164 002e 02B0     		add	sp, sp, #8
 165              	.LCFI5:
 166              		.cfi_def_cfa_offset 8
 167              		@ sp needed
 168 0030 10BD     		pop	{r4, pc}
 169              	.L8:
 170 0032 00BF     		.align	2
 171              	.L7:
 172 0034 00080140 		.word	1073809408
 173 0038 00000000 		.word	.LANCHOR0
 174              		.cfi_endproc
 175              	.LFE68:
 177              		.section	.text.disable_write,"ax",%progbits
 178              		.align	1
 179              		.global	disable_write
 180              		.syntax unified
 181              		.thumb
 182              		.thumb_func
 184              	disable_write:
 185              	.LFB69:
  76:Core/Src/main.c **** 	uint8_t code = 0x04;
 186              		.loc 1 76 1 is_stmt 1 view -0
 187              		.cfi_startproc
 188              		@ args = 0, pretend = 0, frame = 8
 189              		@ frame_needed = 0, uses_anonymous_args = 0
 190 0000 30B5     		push	{r4, r5, lr}
 191              	.LCFI6:
 192              		.cfi_def_cfa_offset 12
 193              		.cfi_offset 4, -12
 194              		.cfi_offset 5, -8
 195              		.cfi_offset 14, -4
 196 0002 83B0     		sub	sp, sp, #12
 197              	.LCFI7:
 198              		.cfi_def_cfa_offset 24
  77:Core/Src/main.c **** 	HAL_GPIO_WritePin(F_CS_GPIO_Port, F_CS_Pin, 0);
 199              		.loc 1 77 2 view .LVU34
  77:Core/Src/main.c **** 	HAL_GPIO_WritePin(F_CS_GPIO_Port, F_CS_Pin, 0);
 200              		.loc 1 77 10 is_stmt 0 view .LVU35
 201 0004 0424     		movs	r4, #4
 202 0006 8DF80740 		strb	r4, [sp, #7]
  78:Core/Src/main.c **** 	HAL_SPI_Transmit(&hspi1, &code, 1, 10);
 203              		.loc 1 78 2 is_stmt 1 view .LVU36
 204 000a 0A4D     		ldr	r5, .L11
 205 000c 0022     		movs	r2, #0
 206 000e 2146     		mov	r1, r4
 207 0010 2846     		mov	r0, r5
 208 0012 FFF7FEFF 		bl	HAL_GPIO_WritePin
 209              	.LVL5:
  79:Core/Src/main.c **** 	HAL_GPIO_WritePin(F_CS_GPIO_Port, F_CS_Pin, 1);
 210              		.loc 1 79 2 view .LVU37
 211 0016 0A23     		movs	r3, #10
 212 0018 0122     		movs	r2, #1
 213 001a 0DF10701 		add	r1, sp, #7
 214 001e 0648     		ldr	r0, .L11+4
 215 0020 FFF7FEFF 		bl	HAL_SPI_Transmit
 216              	.LVL6:
ARM GAS  C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s 			page 11


  80:Core/Src/main.c **** }
 217              		.loc 1 80 2 view .LVU38
 218 0024 0122     		movs	r2, #1
 219 0026 2146     		mov	r1, r4
 220 0028 2846     		mov	r0, r5
 221 002a FFF7FEFF 		bl	HAL_GPIO_WritePin
 222              	.LVL7:
  81:Core/Src/main.c **** 
 223              		.loc 1 81 1 is_stmt 0 view .LVU39
 224 002e 03B0     		add	sp, sp, #12
 225              	.LCFI8:
 226              		.cfi_def_cfa_offset 12
 227              		@ sp needed
 228 0030 30BD     		pop	{r4, r5, pc}
 229              	.L12:
 230 0032 00BF     		.align	2
 231              	.L11:
 232 0034 00080140 		.word	1073809408
 233 0038 00000000 		.word	.LANCHOR0
 234              		.cfi_endproc
 235              	.LFE69:
 237              		.section	.text.read_status,"ax",%progbits
 238              		.align	1
 239              		.global	read_status
 240              		.syntax unified
 241              		.thumb
 242              		.thumb_func
 244              	read_status:
 245              	.LFB70:
  84:Core/Src/main.c ****     uint8_t code = 0x05;  
 246              		.loc 1 84 1 is_stmt 1 view -0
 247              		.cfi_startproc
 248              		@ args = 0, pretend = 0, frame = 8
 249              		@ frame_needed = 0, uses_anonymous_args = 0
 250 0000 30B5     		push	{r4, r5, lr}
 251              	.LCFI9:
 252              		.cfi_def_cfa_offset 12
 253              		.cfi_offset 4, -12
 254              		.cfi_offset 5, -8
 255              		.cfi_offset 14, -4
 256 0002 83B0     		sub	sp, sp, #12
 257              	.LCFI10:
 258              		.cfi_def_cfa_offset 24
  85:Core/Src/main.c ****     uint8_t status = 0;
 259              		.loc 1 85 5 view .LVU41
  85:Core/Src/main.c ****     uint8_t status = 0;
 260              		.loc 1 85 13 is_stmt 0 view .LVU42
 261 0004 0523     		movs	r3, #5
 262 0006 8DF80730 		strb	r3, [sp, #7]
  86:Core/Src/main.c **** 
 263              		.loc 1 86 5 is_stmt 1 view .LVU43
  86:Core/Src/main.c **** 
 264              		.loc 1 86 13 is_stmt 0 view .LVU44
 265 000a 0022     		movs	r2, #0
 266 000c 8DF80620 		strb	r2, [sp, #6]
  88:Core/Src/main.c ****     HAL_SPI_Transmit(&hspi1, &code, 1, 10);          
 267              		.loc 1 88 5 is_stmt 1 view .LVU45
ARM GAS  C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s 			page 12


 268 0010 0E4C     		ldr	r4, .L15
 269 0012 0421     		movs	r1, #4
 270 0014 2046     		mov	r0, r4
 271 0016 FFF7FEFF 		bl	HAL_GPIO_WritePin
 272              	.LVL8:
  89:Core/Src/main.c ****     HAL_SPI_Receive(&hspi1, &status, 1, 10);         
 273              		.loc 1 89 5 view .LVU46
 274 001a 0D4D     		ldr	r5, .L15+4
 275 001c 0A23     		movs	r3, #10
 276 001e 0122     		movs	r2, #1
 277 0020 0DF10701 		add	r1, sp, #7
 278 0024 2846     		mov	r0, r5
 279 0026 FFF7FEFF 		bl	HAL_SPI_Transmit
 280              	.LVL9:
  90:Core/Src/main.c ****     HAL_GPIO_WritePin(F_CS_GPIO_Port, F_CS_Pin, 1);  
 281              		.loc 1 90 5 view .LVU47
 282 002a 0A23     		movs	r3, #10
 283 002c 0122     		movs	r2, #1
 284 002e 0DF10601 		add	r1, sp, #6
 285 0032 2846     		mov	r0, r5
 286 0034 FFF7FEFF 		bl	HAL_SPI_Receive
 287              	.LVL10:
  91:Core/Src/main.c **** 
 288              		.loc 1 91 5 view .LVU48
 289 0038 0122     		movs	r2, #1
 290 003a 0421     		movs	r1, #4
 291 003c 2046     		mov	r0, r4
 292 003e FFF7FEFF 		bl	HAL_GPIO_WritePin
 293              	.LVL11:
  93:Core/Src/main.c **** }
 294              		.loc 1 93 5 view .LVU49
  94:Core/Src/main.c **** 
 295              		.loc 1 94 1 is_stmt 0 view .LVU50
 296 0042 9DF80600 		ldrb	r0, [sp, #6]	@ zero_extendqisi2
 297 0046 03B0     		add	sp, sp, #12
 298              	.LCFI11:
 299              		.cfi_def_cfa_offset 12
 300              		@ sp needed
 301 0048 30BD     		pop	{r4, r5, pc}
 302              	.L16:
 303 004a 00BF     		.align	2
 304              	.L15:
 305 004c 00080140 		.word	1073809408
 306 0050 00000000 		.word	.LANCHOR0
 307              		.cfi_endproc
 308              	.LFE70:
 310              		.section	.text.wait_until_not_busy,"ax",%progbits
 311              		.align	1
 312              		.global	wait_until_not_busy
 313              		.syntax unified
 314              		.thumb
 315              		.thumb_func
 317              	wait_until_not_busy:
 318              	.LFB71:
  97:Core/Src/main.c ****     uint8_t status;
 319              		.loc 1 97 1 is_stmt 1 view -0
 320              		.cfi_startproc
ARM GAS  C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s 			page 13


 321              		@ args = 0, pretend = 0, frame = 0
 322              		@ frame_needed = 0, uses_anonymous_args = 0
 323 0000 08B5     		push	{r3, lr}
 324              	.LCFI12:
 325              		.cfi_def_cfa_offset 8
 326              		.cfi_offset 3, -8
 327              		.cfi_offset 14, -4
 328              	.L18:
  98:Core/Src/main.c ****     do {
 329              		.loc 1 98 5 discriminator 1 view .LVU52
  99:Core/Src/main.c ****         status = read_status();
 330              		.loc 1 99 5 discriminator 1 view .LVU53
 100:Core/Src/main.c ****     } while (status == 1);  	
 331              		.loc 1 100 9 discriminator 1 view .LVU54
 100:Core/Src/main.c ****     } while (status == 1);  	
 332              		.loc 1 100 18 is_stmt 0 discriminator 1 view .LVU55
 333 0002 FFF7FEFF 		bl	read_status
 334              	.LVL12:
 101:Core/Src/main.c **** }
 335              		.loc 1 101 21 is_stmt 1 discriminator 1 view .LVU56
 336 0006 0128     		cmp	r0, #1
 337 0008 FBD0     		beq	.L18
 102:Core/Src/main.c **** 
 338              		.loc 1 102 1 is_stmt 0 view .LVU57
 339 000a 08BD     		pop	{r3, pc}
 340              		.cfi_endproc
 341              	.LFE71:
 343              		.section	.text.write_data,"ax",%progbits
 344              		.align	1
 345              		.global	write_data
 346              		.syntax unified
 347              		.thumb
 348              		.thumb_func
 350              	write_data:
 351              	.LVL13:
 352              	.LFB72:
 105:Core/Src/main.c **** 
 353              		.loc 1 105 1 is_stmt 1 view -0
 354              		.cfi_startproc
 355              		@ args = 0, pretend = 0, frame = 8
 356              		@ frame_needed = 0, uses_anonymous_args = 0
 105:Core/Src/main.c **** 
 357              		.loc 1 105 1 is_stmt 0 view .LVU59
 358 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 359              	.LCFI13:
 360              		.cfi_def_cfa_offset 20
 361              		.cfi_offset 4, -20
 362              		.cfi_offset 5, -16
 363              		.cfi_offset 6, -12
 364              		.cfi_offset 7, -8
 365              		.cfi_offset 14, -4
 366 0002 83B0     		sub	sp, sp, #12
 367              	.LCFI14:
 368              		.cfi_def_cfa_offset 32
 369 0004 0C46     		mov	r4, r1
 370 0006 1546     		mov	r5, r2
 107:Core/Src/main.c **** 	uint8_t add_l = add & 0xFF;
ARM GAS  C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s 			page 14


 371              		.loc 1 107 2 is_stmt 1 view .LVU60
 107:Core/Src/main.c **** 	uint8_t add_l = add & 0xFF;
 372              		.loc 1 107 10 is_stmt 0 view .LVU61
 373 0008 030A     		lsrs	r3, r0, #8
 374              	.LVL14:
 108:Core/Src/main.c **** 	uint8_t data_trans[3];
 375              		.loc 1 108 2 is_stmt 1 view .LVU62
 109:Core/Src/main.c **** 
 376              		.loc 1 109 2 view .LVU63
 111:Core/Src/main.c **** 	data_trans[1] = add_h;
 377              		.loc 1 111 2 view .LVU64
 111:Core/Src/main.c **** 	data_trans[1] = add_h;
 378              		.loc 1 111 16 is_stmt 0 view .LVU65
 379 000a 0222     		movs	r2, #2
 380              	.LVL15:
 111:Core/Src/main.c **** 	data_trans[1] = add_h;
 381              		.loc 1 111 16 view .LVU66
 382 000c 8DF80420 		strb	r2, [sp, #4]
 112:Core/Src/main.c **** 	data_trans[2] = add_l;
 383              		.loc 1 112 2 is_stmt 1 view .LVU67
 112:Core/Src/main.c **** 	data_trans[2] = add_l;
 384              		.loc 1 112 16 is_stmt 0 view .LVU68
 385 0010 8DF80530 		strb	r3, [sp, #5]
 113:Core/Src/main.c **** 
 386              		.loc 1 113 2 is_stmt 1 view .LVU69
 113:Core/Src/main.c **** 
 387              		.loc 1 113 16 is_stmt 0 view .LVU70
 388 0014 8DF80600 		strb	r0, [sp, #6]
 120:Core/Src/main.c **** 
 389              		.loc 1 120 2 is_stmt 1 view .LVU71
 390 0018 FFF7FEFF 		bl	enable_write
 391              	.LVL16:
 122:Core/Src/main.c **** 	HAL_SPI_Transmit(&hspi1, &data_trans[0], 3, 100);
 392              		.loc 1 122 2 view .LVU72
 393 001c 0F4E     		ldr	r6, .L22
 394 001e 0022     		movs	r2, #0
 395 0020 0421     		movs	r1, #4
 396 0022 3046     		mov	r0, r6
 397 0024 FFF7FEFF 		bl	HAL_GPIO_WritePin
 398              	.LVL17:
 123:Core/Src/main.c **** 	//wait_until_not_busy();
 399              		.loc 1 123 2 view .LVU73
 400 0028 0D4F     		ldr	r7, .L22+4
 401 002a 6423     		movs	r3, #100
 402 002c 0322     		movs	r2, #3
 403 002e 01A9     		add	r1, sp, #4
 404 0030 3846     		mov	r0, r7
 405 0032 FFF7FEFF 		bl	HAL_SPI_Transmit
 406              	.LVL18:
 125:Core/Src/main.c **** 	wait_until_not_busy();
 407              		.loc 1 125 2 view .LVU74
 408 0036 4FF0FF33 		mov	r3, #-1
 409 003a 2A46     		mov	r2, r5
 410 003c 2146     		mov	r1, r4
 411 003e 3846     		mov	r0, r7
 412 0040 FFF7FEFF 		bl	HAL_SPI_Transmit
 413              	.LVL19:
ARM GAS  C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s 			page 15


 126:Core/Src/main.c **** 	HAL_GPIO_WritePin(F_CS_GPIO_Port, F_CS_Pin, 1);
 414              		.loc 1 126 2 view .LVU75
 415 0044 FFF7FEFF 		bl	wait_until_not_busy
 416              	.LVL20:
 127:Core/Src/main.c **** 
 417              		.loc 1 127 2 view .LVU76
 418 0048 0122     		movs	r2, #1
 419 004a 0421     		movs	r1, #4
 420 004c 3046     		mov	r0, r6
 421 004e FFF7FEFF 		bl	HAL_GPIO_WritePin
 422              	.LVL21:
 129:Core/Src/main.c **** }
 423              		.loc 1 129 2 view .LVU77
 424 0052 FFF7FEFF 		bl	disable_write
 425              	.LVL22:
 130:Core/Src/main.c **** 
 426              		.loc 1 130 1 is_stmt 0 view .LVU78
 427 0056 03B0     		add	sp, sp, #12
 428              	.LCFI15:
 429              		.cfi_def_cfa_offset 20
 430              		@ sp needed
 431 0058 F0BD     		pop	{r4, r5, r6, r7, pc}
 432              	.LVL23:
 433              	.L23:
 130:Core/Src/main.c **** 
 434              		.loc 1 130 1 view .LVU79
 435 005a 00BF     		.align	2
 436              	.L22:
 437 005c 00080140 		.word	1073809408
 438 0060 00000000 		.word	.LANCHOR0
 439              		.cfi_endproc
 440              	.LFE72:
 442              		.section	.text.read_data,"ax",%progbits
 443              		.align	1
 444              		.global	read_data
 445              		.syntax unified
 446              		.thumb
 447              		.thumb_func
 449              	read_data:
 450              	.LVL24:
 451              	.LFB73:
 133:Core/Src/main.c **** 	uint8_t code = 0x03;
 452              		.loc 1 133 1 is_stmt 1 view -0
 453              		.cfi_startproc
 454              		@ args = 0, pretend = 0, frame = 8
 455              		@ frame_needed = 0, uses_anonymous_args = 0
 133:Core/Src/main.c **** 	uint8_t code = 0x03;
 456              		.loc 1 133 1 is_stmt 0 view .LVU81
 457 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 458              	.LCFI16:
 459              		.cfi_def_cfa_offset 24
 460              		.cfi_offset 4, -24
 461              		.cfi_offset 5, -20
 462              		.cfi_offset 6, -16
 463              		.cfi_offset 7, -12
 464              		.cfi_offset 8, -8
 465              		.cfi_offset 14, -4
ARM GAS  C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s 			page 16


 466 0004 82B0     		sub	sp, sp, #8
 467              	.LCFI17:
 468              		.cfi_def_cfa_offset 32
 469 0006 0C46     		mov	r4, r1
 470 0008 1546     		mov	r5, r2
 134:Core/Src/main.c **** 	uint8_t add_h = (add >> 8) & 0xFF;
 471              		.loc 1 134 2 is_stmt 1 view .LVU82
 472              	.LVL25:
 135:Core/Src/main.c **** 	uint8_t add_l = add & 0xFF;
 473              		.loc 1 135 2 view .LVU83
 135:Core/Src/main.c **** 	uint8_t add_l = add & 0xFF;
 474              		.loc 1 135 10 is_stmt 0 view .LVU84
 475 000a 030A     		lsrs	r3, r0, #8
 476              	.LVL26:
 136:Core/Src/main.c **** 	uint8_t add_trans[3] = {code, add_h, add_l};
 477              		.loc 1 136 2 is_stmt 1 view .LVU85
 137:Core/Src/main.c **** 
 478              		.loc 1 137 2 view .LVU86
 137:Core/Src/main.c **** 
 479              		.loc 1 137 10 is_stmt 0 view .LVU87
 480 000c 4FF00308 		mov	r8, #3
 481 0010 8DF80480 		strb	r8, [sp, #4]
 482 0014 8DF80530 		strb	r3, [sp, #5]
 483 0018 8DF80600 		strb	r0, [sp, #6]
 139:Core/Src/main.c **** 	HAL_SPI_Transmit(&hspi1, &add_trans[0], 3, 10);
 484              		.loc 1 139 2 is_stmt 1 view .LVU88
 485 001c 0D4E     		ldr	r6, .L26
 486 001e 0022     		movs	r2, #0
 487              	.LVL27:
 139:Core/Src/main.c **** 	HAL_SPI_Transmit(&hspi1, &add_trans[0], 3, 10);
 488              		.loc 1 139 2 is_stmt 0 view .LVU89
 489 0020 0421     		movs	r1, #4
 490              	.LVL28:
 139:Core/Src/main.c **** 	HAL_SPI_Transmit(&hspi1, &add_trans[0], 3, 10);
 491              		.loc 1 139 2 view .LVU90
 492 0022 3046     		mov	r0, r6
 493              	.LVL29:
 139:Core/Src/main.c **** 	HAL_SPI_Transmit(&hspi1, &add_trans[0], 3, 10);
 494              		.loc 1 139 2 view .LVU91
 495 0024 FFF7FEFF 		bl	HAL_GPIO_WritePin
 496              	.LVL30:
 140:Core/Src/main.c **** 	HAL_SPI_Receive(&hspi1, &data[0], size, HAL_MAX_DELAY);
 497              		.loc 1 140 2 is_stmt 1 view .LVU92
 498 0028 0B4F     		ldr	r7, .L26+4
 499 002a 0A23     		movs	r3, #10
 500 002c 4246     		mov	r2, r8
 501 002e 01A9     		add	r1, sp, #4
 502 0030 3846     		mov	r0, r7
 503 0032 FFF7FEFF 		bl	HAL_SPI_Transmit
 504              	.LVL31:
 141:Core/Src/main.c **** 	HAL_GPIO_WritePin(F_CS_GPIO_Port, F_CS_Pin, 1);
 505              		.loc 1 141 2 view .LVU93
 506 0036 4FF0FF33 		mov	r3, #-1
 507 003a 2A46     		mov	r2, r5
 508 003c 2146     		mov	r1, r4
 509 003e 3846     		mov	r0, r7
 510 0040 FFF7FEFF 		bl	HAL_SPI_Receive
ARM GAS  C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s 			page 17


 511              	.LVL32:
 142:Core/Src/main.c **** }
 512              		.loc 1 142 2 view .LVU94
 513 0044 0122     		movs	r2, #1
 514 0046 0421     		movs	r1, #4
 515 0048 3046     		mov	r0, r6
 516 004a FFF7FEFF 		bl	HAL_GPIO_WritePin
 517              	.LVL33:
 143:Core/Src/main.c **** /* USER CODE END 0 */
 518              		.loc 1 143 1 is_stmt 0 view .LVU95
 519 004e 02B0     		add	sp, sp, #8
 520              	.LCFI18:
 521              		.cfi_def_cfa_offset 24
 522              		@ sp needed
 523 0050 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 524              	.LVL34:
 525              	.L27:
 143:Core/Src/main.c **** /* USER CODE END 0 */
 526              		.loc 1 143 1 view .LVU96
 527              		.align	2
 528              	.L26:
 529 0054 00080140 		.word	1073809408
 530 0058 00000000 		.word	.LANCHOR0
 531              		.cfi_endproc
 532              	.LFE73:
 534              		.section	.text.Error_Handler,"ax",%progbits
 535              		.align	1
 536              		.global	Error_Handler
 537              		.syntax unified
 538              		.thumb
 539              		.thumb_func
 541              	Error_Handler:
 542              	.LFB79:
 348:Core/Src/main.c **** 
 349:Core/Src/main.c **** /* USER CODE BEGIN 4 */
 350:Core/Src/main.c **** 
 351:Core/Src/main.c **** /* USER CODE END 4 */
 352:Core/Src/main.c **** 
 353:Core/Src/main.c **** /**
 354:Core/Src/main.c ****   * @brief  This function is executed in case of error occurrence.
 355:Core/Src/main.c ****   * @retval None
 356:Core/Src/main.c ****   */
 357:Core/Src/main.c **** void Error_Handler(void)
 358:Core/Src/main.c **** {
 543              		.loc 1 358 1 is_stmt 1 view -0
 544              		.cfi_startproc
 545              		@ Volatile: function does not return.
 546              		@ args = 0, pretend = 0, frame = 0
 547              		@ frame_needed = 0, uses_anonymous_args = 0
 548              		@ link register save eliminated.
 359:Core/Src/main.c ****   /* USER CODE BEGIN Error_Handler_Debug */
 360:Core/Src/main.c ****   /* User can add his own implementation to report the HAL error return state */
 361:Core/Src/main.c ****   __disable_irq();
 549              		.loc 1 361 3 view .LVU98
 550              	.LBB6:
 551              	.LBI6:
 552              		.file 2 "Drivers/CMSIS/Include/cmsis_gcc.h"
ARM GAS  C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s 			page 18


   1:Drivers/CMSIS/Include/cmsis_gcc.h **** /**************************************************************************//**
   2:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @file     cmsis_gcc.h
   3:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @brief    CMSIS compiler GCC header file
   4:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @version  V5.0.4
   5:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @date     09. April 2018
   6:Drivers/CMSIS/Include/cmsis_gcc.h ****  ******************************************************************************/
   7:Drivers/CMSIS/Include/cmsis_gcc.h **** /*
   8:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Copyright (c) 2009-2018 Arm Limited. All rights reserved.
   9:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  10:Drivers/CMSIS/Include/cmsis_gcc.h ****  * SPDX-License-Identifier: Apache-2.0
  11:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  12:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Licensed under the Apache License, Version 2.0 (the License); you may
  13:Drivers/CMSIS/Include/cmsis_gcc.h ****  * not use this file except in compliance with the License.
  14:Drivers/CMSIS/Include/cmsis_gcc.h ****  * You may obtain a copy of the License at
  15:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  16:Drivers/CMSIS/Include/cmsis_gcc.h ****  * www.apache.org/licenses/LICENSE-2.0
  17:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  18:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Unless required by applicable law or agreed to in writing, software
  19:Drivers/CMSIS/Include/cmsis_gcc.h ****  * distributed under the License is distributed on an AS IS BASIS, WITHOUT
  20:Drivers/CMSIS/Include/cmsis_gcc.h ****  * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  21:Drivers/CMSIS/Include/cmsis_gcc.h ****  * See the License for the specific language governing permissions and
  22:Drivers/CMSIS/Include/cmsis_gcc.h ****  * limitations under the License.
  23:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  24:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  25:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __CMSIS_GCC_H
  26:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __CMSIS_GCC_H
  27:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  28:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ignore some GCC warnings */
  29:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic push
  30:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wsign-conversion"
  31:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wconversion"
  32:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wunused-parameter"
  33:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  34:Drivers/CMSIS/Include/cmsis_gcc.h **** /* Fallback for __has_builtin */
  35:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __has_builtin
  36:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __has_builtin(x) (0)
  37:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  38:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  39:Drivers/CMSIS/Include/cmsis_gcc.h **** /* CMSIS compiler specific defines */
  40:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ASM
  41:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ASM                                  __asm
  42:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  43:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __INLINE
  44:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __INLINE                               inline
  45:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  46:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_INLINE
  47:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_INLINE                        static inline
  48:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  49:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_FORCEINLINE                 
  50:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_FORCEINLINE                   __attribute__((always_inline)) static inline
  51:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif                                           
  52:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __NO_RETURN
  53:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __NO_RETURN                            __attribute__((__noreturn__))
  54:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  55:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __USED
  56:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __USED                                 __attribute__((used))
  57:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
ARM GAS  C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s 			page 19


  58:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __WEAK
  59:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __WEAK                                 __attribute__((weak))
  60:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  61:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED
  62:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED                               __attribute__((packed, aligned(1)))
  63:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  64:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_STRUCT
  65:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_STRUCT                        struct __attribute__((packed, aligned(1)))
  66:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  67:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_UNION
  68:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_UNION                         union __attribute__((packed, aligned(1)))
  69:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  70:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32        /* deprecated */
  71:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  72:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  73:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  74:Drivers/CMSIS/Include/cmsis_gcc.h ****   struct __attribute__((packed)) T_UINT32 { uint32_t v; };
  75:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  76:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32(x)                  (((struct T_UINT32 *)(x))->v)
  77:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  78:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_WRITE
  79:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  80:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  81:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  82:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_WRITE { uint16_t v; };
  83:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  84:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_WRITE(addr, val)    (void)((((struct T_UINT16_WRITE *)(void *)(addr))-
  85:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  86:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_READ
  87:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  88:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  89:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  90:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_READ { uint16_t v; };
  91:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  92:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_READ(addr)          (((const struct T_UINT16_READ *)(const void *)(add
  93:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  94:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_WRITE
  95:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  96:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  97:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  98:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_WRITE { uint32_t v; };
  99:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 100:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_WRITE(addr, val)    (void)((((struct T_UINT32_WRITE *)(void *)(addr))-
 101:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 102:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_READ
 103:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
 104:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
 105:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
 106:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_READ { uint32_t v; };
 107:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 108:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_READ(addr)          (((const struct T_UINT32_READ *)(const void *)(add
 109:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 110:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ALIGNED
 111:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ALIGNED(x)                           __attribute__((aligned(x)))
 112:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 113:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __RESTRICT
 114:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __RESTRICT                             __restrict
ARM GAS  C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s 			page 20


 115:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 116:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 117:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 118:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ###########################  Core Function Access  ########################### */
 119:Drivers/CMSIS/Include/cmsis_gcc.h **** /** \ingroup  CMSIS_Core_FunctionInterface
 120:Drivers/CMSIS/Include/cmsis_gcc.h ****     \defgroup CMSIS_Core_RegAccFunctions CMSIS Core Register Access Functions
 121:Drivers/CMSIS/Include/cmsis_gcc.h ****   @{
 122:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 123:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 124:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 125:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Enable IRQ Interrupts
 126:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Enables IRQ interrupts by clearing the I-bit in the CPSR.
 127:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 128:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 129:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __enable_irq(void)
 130:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 131:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsie i" : : : "memory");
 132:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 133:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 134:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 135:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 136:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Disable IRQ Interrupts
 137:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Disables IRQ interrupts by setting the I-bit in the CPSR.
 138:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 139:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 140:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __disable_irq(void)
 553              		.loc 2 140 27 view .LVU99
 554              	.LBB7:
 141:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 142:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsid i" : : : "memory");
 555              		.loc 2 142 3 view .LVU100
 556              		.syntax unified
 557              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 558 0000 72B6     		cpsid i
 559              	@ 0 "" 2
 560              		.thumb
 561              		.syntax unified
 562              	.L29:
 563              	.LBE7:
 564              	.LBE6:
 362:Core/Src/main.c ****   while (1)
 565              		.loc 1 362 3 discriminator 1 view .LVU101
 363:Core/Src/main.c ****   {
 364:Core/Src/main.c ****   }
 566              		.loc 1 364 3 discriminator 1 view .LVU102
 362:Core/Src/main.c ****   while (1)
 567              		.loc 1 362 9 discriminator 1 view .LVU103
 568 0002 FEE7     		b	.L29
 569              		.cfi_endproc
 570              	.LFE79:
 572              		.section	.text.MX_SPI1_Init,"ax",%progbits
 573              		.align	1
 574              		.syntax unified
 575              		.thumb
 576              		.thumb_func
 578              	MX_SPI1_Init:
 579              	.LFB76:
ARM GAS  C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s 			page 21


 255:Core/Src/main.c **** 
 580              		.loc 1 255 1 view -0
 581              		.cfi_startproc
 582              		@ args = 0, pretend = 0, frame = 0
 583              		@ frame_needed = 0, uses_anonymous_args = 0
 584 0000 08B5     		push	{r3, lr}
 585              	.LCFI19:
 586              		.cfi_def_cfa_offset 8
 587              		.cfi_offset 3, -8
 588              		.cfi_offset 14, -4
 265:Core/Src/main.c ****   hspi1.Init.Mode = SPI_MODE_MASTER;
 589              		.loc 1 265 3 view .LVU105
 265:Core/Src/main.c ****   hspi1.Init.Mode = SPI_MODE_MASTER;
 590              		.loc 1 265 18 is_stmt 0 view .LVU106
 591 0002 0D48     		ldr	r0, .L34
 592 0004 0D4B     		ldr	r3, .L34+4
 593 0006 0360     		str	r3, [r0]
 266:Core/Src/main.c ****   hspi1.Init.Direction = SPI_DIRECTION_2LINES;
 594              		.loc 1 266 3 is_stmt 1 view .LVU107
 266:Core/Src/main.c ****   hspi1.Init.Direction = SPI_DIRECTION_2LINES;
 595              		.loc 1 266 19 is_stmt 0 view .LVU108
 596 0008 4FF48273 		mov	r3, #260
 597 000c 4360     		str	r3, [r0, #4]
 267:Core/Src/main.c ****   hspi1.Init.DataSize = SPI_DATASIZE_8BIT;
 598              		.loc 1 267 3 is_stmt 1 view .LVU109
 267:Core/Src/main.c ****   hspi1.Init.DataSize = SPI_DATASIZE_8BIT;
 599              		.loc 1 267 24 is_stmt 0 view .LVU110
 600 000e 0023     		movs	r3, #0
 601 0010 8360     		str	r3, [r0, #8]
 268:Core/Src/main.c ****   hspi1.Init.CLKPolarity = SPI_POLARITY_LOW;
 602              		.loc 1 268 3 is_stmt 1 view .LVU111
 268:Core/Src/main.c ****   hspi1.Init.CLKPolarity = SPI_POLARITY_LOW;
 603              		.loc 1 268 23 is_stmt 0 view .LVU112
 604 0012 C360     		str	r3, [r0, #12]
 269:Core/Src/main.c ****   hspi1.Init.CLKPhase = SPI_PHASE_1EDGE;
 605              		.loc 1 269 3 is_stmt 1 view .LVU113
 269:Core/Src/main.c ****   hspi1.Init.CLKPhase = SPI_PHASE_1EDGE;
 606              		.loc 1 269 26 is_stmt 0 view .LVU114
 607 0014 0361     		str	r3, [r0, #16]
 270:Core/Src/main.c ****   hspi1.Init.NSS = SPI_NSS_SOFT;
 608              		.loc 1 270 3 is_stmt 1 view .LVU115
 270:Core/Src/main.c ****   hspi1.Init.NSS = SPI_NSS_SOFT;
 609              		.loc 1 270 23 is_stmt 0 view .LVU116
 610 0016 4361     		str	r3, [r0, #20]
 271:Core/Src/main.c ****   hspi1.Init.BaudRatePrescaler = SPI_BAUDRATEPRESCALER_64;
 611              		.loc 1 271 3 is_stmt 1 view .LVU117
 271:Core/Src/main.c ****   hspi1.Init.BaudRatePrescaler = SPI_BAUDRATEPRESCALER_64;
 612              		.loc 1 271 18 is_stmt 0 view .LVU118
 613 0018 4FF40072 		mov	r2, #512
 614 001c 8261     		str	r2, [r0, #24]
 272:Core/Src/main.c ****   hspi1.Init.FirstBit = SPI_FIRSTBIT_MSB;
 615              		.loc 1 272 3 is_stmt 1 view .LVU119
 272:Core/Src/main.c ****   hspi1.Init.FirstBit = SPI_FIRSTBIT_MSB;
 616              		.loc 1 272 32 is_stmt 0 view .LVU120
 617 001e 2822     		movs	r2, #40
 618 0020 C261     		str	r2, [r0, #28]
 273:Core/Src/main.c ****   hspi1.Init.TIMode = SPI_TIMODE_DISABLE;
ARM GAS  C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s 			page 22


 619              		.loc 1 273 3 is_stmt 1 view .LVU121
 273:Core/Src/main.c ****   hspi1.Init.TIMode = SPI_TIMODE_DISABLE;
 620              		.loc 1 273 23 is_stmt 0 view .LVU122
 621 0022 0362     		str	r3, [r0, #32]
 274:Core/Src/main.c ****   hspi1.Init.CRCCalculation = SPI_CRCCALCULATION_DISABLE;
 622              		.loc 1 274 3 is_stmt 1 view .LVU123
 274:Core/Src/main.c ****   hspi1.Init.CRCCalculation = SPI_CRCCALCULATION_DISABLE;
 623              		.loc 1 274 21 is_stmt 0 view .LVU124
 624 0024 4362     		str	r3, [r0, #36]
 275:Core/Src/main.c ****   hspi1.Init.CRCPolynomial = 10;
 625              		.loc 1 275 3 is_stmt 1 view .LVU125
 275:Core/Src/main.c ****   hspi1.Init.CRCPolynomial = 10;
 626              		.loc 1 275 29 is_stmt 0 view .LVU126
 627 0026 8362     		str	r3, [r0, #40]
 276:Core/Src/main.c ****   if (HAL_SPI_Init(&hspi1) != HAL_OK)
 628              		.loc 1 276 3 is_stmt 1 view .LVU127
 276:Core/Src/main.c ****   if (HAL_SPI_Init(&hspi1) != HAL_OK)
 629              		.loc 1 276 28 is_stmt 0 view .LVU128
 630 0028 0A23     		movs	r3, #10
 631 002a C362     		str	r3, [r0, #44]
 277:Core/Src/main.c ****   {
 632              		.loc 1 277 3 is_stmt 1 view .LVU129
 277:Core/Src/main.c ****   {
 633              		.loc 1 277 7 is_stmt 0 view .LVU130
 634 002c FFF7FEFF 		bl	HAL_SPI_Init
 635              	.LVL35:
 277:Core/Src/main.c ****   {
 636              		.loc 1 277 6 view .LVU131
 637 0030 00B9     		cbnz	r0, .L33
 285:Core/Src/main.c **** 
 638              		.loc 1 285 1 view .LVU132
 639 0032 08BD     		pop	{r3, pc}
 640              	.L33:
 279:Core/Src/main.c ****   }
 641              		.loc 1 279 5 is_stmt 1 view .LVU133
 642 0034 FFF7FEFF 		bl	Error_Handler
 643              	.LVL36:
 644              	.L35:
 645              		.align	2
 646              	.L34:
 647 0038 00000000 		.word	.LANCHOR0
 648 003c 00300140 		.word	1073819648
 649              		.cfi_endproc
 650              	.LFE76:
 652              		.section	.text.MX_USART1_UART_Init,"ax",%progbits
 653              		.align	1
 654              		.syntax unified
 655              		.thumb
 656              		.thumb_func
 658              	MX_USART1_UART_Init:
 659              	.LFB77:
 293:Core/Src/main.c **** 
 660              		.loc 1 293 1 view -0
 661              		.cfi_startproc
 662              		@ args = 0, pretend = 0, frame = 0
 663              		@ frame_needed = 0, uses_anonymous_args = 0
 664 0000 08B5     		push	{r3, lr}
ARM GAS  C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s 			page 23


 665              	.LCFI20:
 666              		.cfi_def_cfa_offset 8
 667              		.cfi_offset 3, -8
 668              		.cfi_offset 14, -4
 302:Core/Src/main.c ****   huart1.Init.BaudRate = 9600;
 669              		.loc 1 302 3 view .LVU135
 302:Core/Src/main.c ****   huart1.Init.BaudRate = 9600;
 670              		.loc 1 302 19 is_stmt 0 view .LVU136
 671 0002 0A48     		ldr	r0, .L40
 672 0004 0A4B     		ldr	r3, .L40+4
 673 0006 0360     		str	r3, [r0]
 303:Core/Src/main.c ****   huart1.Init.WordLength = UART_WORDLENGTH_8B;
 674              		.loc 1 303 3 is_stmt 1 view .LVU137
 303:Core/Src/main.c ****   huart1.Init.WordLength = UART_WORDLENGTH_8B;
 675              		.loc 1 303 24 is_stmt 0 view .LVU138
 676 0008 4FF41653 		mov	r3, #9600
 677 000c 4360     		str	r3, [r0, #4]
 304:Core/Src/main.c ****   huart1.Init.StopBits = UART_STOPBITS_1;
 678              		.loc 1 304 3 is_stmt 1 view .LVU139
 304:Core/Src/main.c ****   huart1.Init.StopBits = UART_STOPBITS_1;
 679              		.loc 1 304 26 is_stmt 0 view .LVU140
 680 000e 0023     		movs	r3, #0
 681 0010 8360     		str	r3, [r0, #8]
 305:Core/Src/main.c ****   huart1.Init.Parity = UART_PARITY_NONE;
 682              		.loc 1 305 3 is_stmt 1 view .LVU141
 305:Core/Src/main.c ****   huart1.Init.Parity = UART_PARITY_NONE;
 683              		.loc 1 305 24 is_stmt 0 view .LVU142
 684 0012 C360     		str	r3, [r0, #12]
 306:Core/Src/main.c ****   huart1.Init.Mode = UART_MODE_TX_RX;
 685              		.loc 1 306 3 is_stmt 1 view .LVU143
 306:Core/Src/main.c ****   huart1.Init.Mode = UART_MODE_TX_RX;
 686              		.loc 1 306 22 is_stmt 0 view .LVU144
 687 0014 0361     		str	r3, [r0, #16]
 307:Core/Src/main.c ****   huart1.Init.HwFlowCtl = UART_HWCONTROL_NONE;
 688              		.loc 1 307 3 is_stmt 1 view .LVU145
 307:Core/Src/main.c ****   huart1.Init.HwFlowCtl = UART_HWCONTROL_NONE;
 689              		.loc 1 307 20 is_stmt 0 view .LVU146
 690 0016 0C22     		movs	r2, #12
 691 0018 4261     		str	r2, [r0, #20]
 308:Core/Src/main.c ****   huart1.Init.OverSampling = UART_OVERSAMPLING_16;
 692              		.loc 1 308 3 is_stmt 1 view .LVU147
 308:Core/Src/main.c ****   huart1.Init.OverSampling = UART_OVERSAMPLING_16;
 693              		.loc 1 308 25 is_stmt 0 view .LVU148
 694 001a 8361     		str	r3, [r0, #24]
 309:Core/Src/main.c ****   if (HAL_UART_Init(&huart1) != HAL_OK)
 695              		.loc 1 309 3 is_stmt 1 view .LVU149
 309:Core/Src/main.c ****   if (HAL_UART_Init(&huart1) != HAL_OK)
 696              		.loc 1 309 28 is_stmt 0 view .LVU150
 697 001c C361     		str	r3, [r0, #28]
 310:Core/Src/main.c ****   {
 698              		.loc 1 310 3 is_stmt 1 view .LVU151
 310:Core/Src/main.c ****   {
 699              		.loc 1 310 7 is_stmt 0 view .LVU152
 700 001e FFF7FEFF 		bl	HAL_UART_Init
 701              	.LVL37:
 310:Core/Src/main.c ****   {
 702              		.loc 1 310 6 view .LVU153
ARM GAS  C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s 			page 24


 703 0022 00B9     		cbnz	r0, .L39
 318:Core/Src/main.c **** 
 704              		.loc 1 318 1 view .LVU154
 705 0024 08BD     		pop	{r3, pc}
 706              	.L39:
 312:Core/Src/main.c ****   }
 707              		.loc 1 312 5 is_stmt 1 view .LVU155
 708 0026 FFF7FEFF 		bl	Error_Handler
 709              	.LVL38:
 710              	.L41:
 711 002a 00BF     		.align	2
 712              	.L40:
 713 002c 00000000 		.word	.LANCHOR1
 714 0030 00380140 		.word	1073821696
 715              		.cfi_endproc
 716              	.LFE77:
 718              		.section	.text.SystemClock_Config,"ax",%progbits
 719              		.align	1
 720              		.global	SystemClock_Config
 721              		.syntax unified
 722              		.thumb
 723              		.thumb_func
 725              	SystemClock_Config:
 726              	.LFB75:
 215:Core/Src/main.c ****   RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 727              		.loc 1 215 1 view -0
 728              		.cfi_startproc
 729              		@ args = 0, pretend = 0, frame = 64
 730              		@ frame_needed = 0, uses_anonymous_args = 0
 731 0000 00B5     		push	{lr}
 732              	.LCFI21:
 733              		.cfi_def_cfa_offset 4
 734              		.cfi_offset 14, -4
 735 0002 91B0     		sub	sp, sp, #68
 736              	.LCFI22:
 737              		.cfi_def_cfa_offset 72
 216:Core/Src/main.c ****   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 738              		.loc 1 216 3 view .LVU157
 216:Core/Src/main.c ****   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 739              		.loc 1 216 22 is_stmt 0 view .LVU158
 740 0004 2822     		movs	r2, #40
 741 0006 0021     		movs	r1, #0
 742 0008 06A8     		add	r0, sp, #24
 743 000a FFF7FEFF 		bl	memset
 744              	.LVL39:
 217:Core/Src/main.c **** 
 745              		.loc 1 217 3 is_stmt 1 view .LVU159
 217:Core/Src/main.c **** 
 746              		.loc 1 217 22 is_stmt 0 view .LVU160
 747 000e 0023     		movs	r3, #0
 748 0010 0193     		str	r3, [sp, #4]
 749 0012 0293     		str	r3, [sp, #8]
 750 0014 0393     		str	r3, [sp, #12]
 751 0016 0493     		str	r3, [sp, #16]
 752 0018 0593     		str	r3, [sp, #20]
 222:Core/Src/main.c ****   RCC_OscInitStruct.HSEState = RCC_HSE_ON;
 753              		.loc 1 222 3 is_stmt 1 view .LVU161
ARM GAS  C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s 			page 25


 222:Core/Src/main.c ****   RCC_OscInitStruct.HSEState = RCC_HSE_ON;
 754              		.loc 1 222 36 is_stmt 0 view .LVU162
 755 001a 0122     		movs	r2, #1
 756 001c 0692     		str	r2, [sp, #24]
 223:Core/Src/main.c ****   RCC_OscInitStruct.HSEPredivValue = RCC_HSE_PREDIV_DIV1;
 757              		.loc 1 223 3 is_stmt 1 view .LVU163
 223:Core/Src/main.c ****   RCC_OscInitStruct.HSEPredivValue = RCC_HSE_PREDIV_DIV1;
 758              		.loc 1 223 30 is_stmt 0 view .LVU164
 759 001e 4FF48033 		mov	r3, #65536
 760 0022 0793     		str	r3, [sp, #28]
 224:Core/Src/main.c ****   RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 761              		.loc 1 224 3 is_stmt 1 view .LVU165
 225:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 762              		.loc 1 225 3 view .LVU166
 225:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 763              		.loc 1 225 30 is_stmt 0 view .LVU167
 764 0024 0A92     		str	r2, [sp, #40]
 226:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;
 765              		.loc 1 226 3 is_stmt 1 view .LVU168
 226:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;
 766              		.loc 1 226 34 is_stmt 0 view .LVU169
 767 0026 0222     		movs	r2, #2
 768 0028 0D92     		str	r2, [sp, #52]
 227:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL9;
 769              		.loc 1 227 3 is_stmt 1 view .LVU170
 227:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL9;
 770              		.loc 1 227 35 is_stmt 0 view .LVU171
 771 002a 0E93     		str	r3, [sp, #56]
 228:Core/Src/main.c ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 772              		.loc 1 228 3 is_stmt 1 view .LVU172
 228:Core/Src/main.c ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 773              		.loc 1 228 32 is_stmt 0 view .LVU173
 774 002c 4FF4E013 		mov	r3, #1835008
 775 0030 0F93     		str	r3, [sp, #60]
 229:Core/Src/main.c ****   {
 776              		.loc 1 229 3 is_stmt 1 view .LVU174
 229:Core/Src/main.c ****   {
 777              		.loc 1 229 7 is_stmt 0 view .LVU175
 778 0032 06A8     		add	r0, sp, #24
 779 0034 FFF7FEFF 		bl	HAL_RCC_OscConfig
 780              	.LVL40:
 229:Core/Src/main.c ****   {
 781              		.loc 1 229 6 view .LVU176
 782 0038 80B9     		cbnz	r0, .L46
 236:Core/Src/main.c ****                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 783              		.loc 1 236 3 is_stmt 1 view .LVU177
 236:Core/Src/main.c ****                               |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 784              		.loc 1 236 31 is_stmt 0 view .LVU178
 785 003a 0F23     		movs	r3, #15
 786 003c 0193     		str	r3, [sp, #4]
 238:Core/Src/main.c ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 787              		.loc 1 238 3 is_stmt 1 view .LVU179
 238:Core/Src/main.c ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 788              		.loc 1 238 34 is_stmt 0 view .LVU180
 789 003e 0221     		movs	r1, #2
 790 0040 0291     		str	r1, [sp, #8]
 239:Core/Src/main.c ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV2;
ARM GAS  C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s 			page 26


 791              		.loc 1 239 3 is_stmt 1 view .LVU181
 239:Core/Src/main.c ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV2;
 792              		.loc 1 239 35 is_stmt 0 view .LVU182
 793 0042 0023     		movs	r3, #0
 794 0044 0393     		str	r3, [sp, #12]
 240:Core/Src/main.c ****   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 795              		.loc 1 240 3 is_stmt 1 view .LVU183
 240:Core/Src/main.c ****   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 796              		.loc 1 240 36 is_stmt 0 view .LVU184
 797 0046 4FF48062 		mov	r2, #1024
 798 004a 0492     		str	r2, [sp, #16]
 241:Core/Src/main.c **** 
 799              		.loc 1 241 3 is_stmt 1 view .LVU185
 241:Core/Src/main.c **** 
 800              		.loc 1 241 36 is_stmt 0 view .LVU186
 801 004c 0593     		str	r3, [sp, #20]
 243:Core/Src/main.c ****   {
 802              		.loc 1 243 3 is_stmt 1 view .LVU187
 243:Core/Src/main.c ****   {
 803              		.loc 1 243 7 is_stmt 0 view .LVU188
 804 004e 01A8     		add	r0, sp, #4
 805 0050 FFF7FEFF 		bl	HAL_RCC_ClockConfig
 806              	.LVL41:
 243:Core/Src/main.c ****   {
 807              		.loc 1 243 6 view .LVU189
 808 0054 20B9     		cbnz	r0, .L47
 247:Core/Src/main.c **** 
 809              		.loc 1 247 1 view .LVU190
 810 0056 11B0     		add	sp, sp, #68
 811              	.LCFI23:
 812              		.cfi_remember_state
 813              		.cfi_def_cfa_offset 4
 814              		@ sp needed
 815 0058 5DF804FB 		ldr	pc, [sp], #4
 816              	.L46:
 817              	.LCFI24:
 818              		.cfi_restore_state
 231:Core/Src/main.c ****   }
 819              		.loc 1 231 5 is_stmt 1 view .LVU191
 820 005c FFF7FEFF 		bl	Error_Handler
 821              	.LVL42:
 822              	.L47:
 245:Core/Src/main.c ****   }
 823              		.loc 1 245 5 view .LVU192
 824 0060 FFF7FEFF 		bl	Error_Handler
 825              	.LVL43:
 826              		.cfi_endproc
 827              	.LFE75:
 829              		.section	.rodata.main.str1.4,"aMS",%progbits,1
 830              		.align	2
 831              	.LC2:
 832 0000 646F2064 		.ascii	"do dai data: %03d%03d\000"
 832      61692064 
 832      6174613A 
 832      20253033 
 832      64253033 
 833 0016 0000     		.align	2
ARM GAS  C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s 			page 27


 834              	.LC0:
 835 0018 2068656C 		.ascii	" hello\015\012\000"
 835      6C6F0D0A 
 835      00
 836 0021 000000   		.align	2
 837              	.LC1:
 838 0024 546F6920 		.ascii	"Toi yeu dat nuoc toi. Tu bao gio khong biet nua. Co"
 838      79657520 
 838      64617420 
 838      6E756F63 
 838      20746F69 
 839 0057 20746865 		.ascii	" the tu khi toi sinh ra, dat nuoc da co roi.\012 Da"
 839      20747520 
 839      6B686920 
 839      746F6920 
 839      73696E68 
 840 0087 74206E75 		.ascii	"t nuoc len m\011uon thuong noi buon doi lan mat.\012"
 840      6F63206C 
 840      656E206D 
 840      09756F6E 
 840      20746875 
 841 00b5 546F6920 		.ascii	"Toi yeu dan toc toi. Tu bao gio khong biet nua. Co "
 841      79657520 
 841      64616E20 
 841      746F6320 
 841      746F692E 
 842 00e8 74686520 		.ascii	"the tu khi toi biet noi cuoi buoi so sinh.aasdfjasd"
 842      7475206B 
 842      68692074 
 842      6F692062 
 842      69657420 
 843 011b 666B6A61 		.ascii	"fkjasldfjasldjflk\000"
 843      736C6466 
 843      6A61736C 
 843      646A666C 
 843      6B00
 844              		.section	.text.main,"ax",%progbits
 845              		.align	1
 846              		.global	main
 847              		.syntax unified
 848              		.thumb
 849              		.thumb_func
 851              	main:
 852              	.LFB74:
 151:Core/Src/main.c ****   /* USER CODE BEGIN 1 */
 853              		.loc 1 151 1 view -0
 854              		.cfi_startproc
 855              		@ args = 0, pretend = 0, frame = 1656
 856              		@ frame_needed = 0, uses_anonymous_args = 0
 857 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 858              	.LCFI25:
 859              		.cfi_def_cfa_offset 20
 860              		.cfi_offset 4, -20
 861              		.cfi_offset 5, -16
 862              		.cfi_offset 6, -12
 863              		.cfi_offset 7, -8
 864              		.cfi_offset 14, -4
ARM GAS  C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s 			page 28


 865 0002 ADF27C6D 		subw	sp, sp, #1660
 866              	.LCFI26:
 867              		.cfi_def_cfa_offset 1680
 159:Core/Src/main.c **** 
 868              		.loc 1 159 3 view .LVU194
 869 0006 FFF7FEFF 		bl	HAL_Init
 870              	.LVL44:
 166:Core/Src/main.c **** 
 871              		.loc 1 166 3 view .LVU195
 872 000a FFF7FEFF 		bl	SystemClock_Config
 873              	.LVL45:
 173:Core/Src/main.c ****   MX_SPI1_Init();
 874              		.loc 1 173 3 view .LVU196
 875 000e FFF7FEFF 		bl	MX_GPIO_Init
 876              	.LVL46:
 174:Core/Src/main.c ****   MX_USART1_UART_Init();
 877              		.loc 1 174 3 view .LVU197
 878 0012 FFF7FEFF 		bl	MX_SPI1_Init
 879              	.LVL47:
 175:Core/Src/main.c ****   /* USER CODE BEGIN 2 */
 880              		.loc 1 175 3 view .LVU198
 881 0016 FFF7FEFF 		bl	MX_USART1_UART_Init
 882              	.LVL48:
 177:Core/Src/main.c **** 	uint8_t poem[] = "Toi yeu dat nuoc toi. Tu bao gio khong biet nua. Co the tu khi toi sinh ra, dat 
 883              		.loc 1 177 2 view .LVU199
 177:Core/Src/main.c **** 	uint8_t poem[] = "Toi yeu dat nuoc toi. Tu bao gio khong biet nua. Co the tu khi toi sinh ra, dat 
 884              		.loc 1 177 10 is_stmt 0 view .LVU200
 885 001a 234A     		ldr	r2, .L51
 886 001c 0DF5AF63 		add	r3, sp, #1400
 887 0020 1068     		ldr	r0, [r2]	@ unaligned
 888 0022 5168     		ldr	r1, [r2, #4]	@ unaligned
 889 0024 03C3     		stmia	r3!, {r0, r1}
 890 0026 127A     		ldrb	r2, [r2, #8]	@ zero_extendqisi2
 891 0028 1A70     		strb	r2, [r3]
 892 002a F722     		movs	r2, #247
 893 002c 0021     		movs	r1, #0
 894 002e 0DF28150 		addw	r0, sp, #1409
 895 0032 FFF7FEFF 		bl	memset
 896              	.LVL49:
 178:Core/Src/main.c **** 	uint16_t size = strlen((char*)poem);
 897              		.loc 1 178 2 is_stmt 1 view .LVU201
 178:Core/Src/main.c **** 	uint16_t size = strlen((char*)poem);
 898              		.loc 1 178 10 is_stmt 0 view .LVU202
 899 0036 40F20912 		movw	r2, #265
 900 003a 1C49     		ldr	r1, .L51+4
 901 003c 0DF26C40 		addw	r0, sp, #1132
 902 0040 FFF7FEFF 		bl	memcpy
 903              	.LVL50:
 179:Core/Src/main.c **** 	uint8_t data_size[2];
 904              		.loc 1 179 2 is_stmt 1 view .LVU203
 179:Core/Src/main.c **** 	uint8_t data_size[2];
 905              		.loc 1 179 18 is_stmt 0 view .LVU204
 906 0044 0DF26C40 		addw	r0, sp, #1132
 907 0048 FFF7FEFF 		bl	strlen
 908              	.LVL51:
 179:Core/Src/main.c **** 	uint8_t data_size[2];
 909              		.loc 1 179 11 view .LVU205
ARM GAS  C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s 			page 29


 910 004c 86B2     		uxth	r6, r0
 911              	.LVL52:
 180:Core/Src/main.c **** 	data_size[0] = (size >> 8) & 0xFF;
 912              		.loc 1 180 2 is_stmt 1 view .LVU206
 181:Core/Src/main.c **** 	data_size[1] = size & 0xFF;
 913              		.loc 1 181 2 view .LVU207
 181:Core/Src/main.c **** 	data_size[1] = size & 0xFF;
 914              		.loc 1 181 15 is_stmt 0 view .LVU208
 915 004e C0F30727 		ubfx	r7, r0, #8, #8
 916 0052 8DF86874 		strb	r7, [sp, #1128]
 182:Core/Src/main.c **** 	uint8_t data_trans[100];
 917              		.loc 1 182 2 is_stmt 1 view .LVU209
 182:Core/Src/main.c **** 	uint8_t data_trans[100];
 918              		.loc 1 182 15 is_stmt 0 view .LVU210
 919 0056 C4B2     		uxtb	r4, r0
 920 0058 8DF86944 		strb	r4, [sp, #1129]
 183:Core/Src/main.c **** 	uint8_t data_read[1024] = {0};
 921              		.loc 1 183 2 is_stmt 1 view .LVU211
 184:Core/Src/main.c **** 
 922              		.loc 1 184 2 view .LVU212
 184:Core/Src/main.c **** 
 923              		.loc 1 184 10 is_stmt 0 view .LVU213
 924 005c 0025     		movs	r5, #0
 925 005e 0195     		str	r5, [sp, #4]
 926 0060 4FF47F72 		mov	r2, #1020
 927 0064 2946     		mov	r1, r5
 928 0066 02A8     		add	r0, sp, #8
 929 0068 FFF7FEFF 		bl	memset
 930              	.LVL53:
 186:Core/Src/main.c **** 	write_data(0x0000,&poem[0], size);
 931              		.loc 1 186 2 is_stmt 1 view .LVU214
 932 006c 2346     		mov	r3, r4
 933 006e 3A46     		mov	r2, r7
 934 0070 0F49     		ldr	r1, .L51+8
 935 0072 0DF20440 		addw	r0, sp, #1028
 936 0076 FFF7FEFF 		bl	sprintf
 937              	.LVL54:
 187:Core/Src/main.c **** 	read_data(0x0000, &data_read[0], size);
 938              		.loc 1 187 2 view .LVU215
 939 007a 3246     		mov	r2, r6
 940 007c 0DF26C41 		addw	r1, sp, #1132
 941 0080 2846     		mov	r0, r5
 942 0082 FFF7FEFF 		bl	write_data
 943              	.LVL55:
 188:Core/Src/main.c **** 	HAL_UART_Transmit(&huart1, &data_trans[0], strlen((char*)data_trans), 100);
 944              		.loc 1 188 2 view .LVU216
 945 0086 3246     		mov	r2, r6
 946 0088 01A9     		add	r1, sp, #4
 947 008a 2846     		mov	r0, r5
 948 008c FFF7FEFF 		bl	read_data
 949              	.LVL56:
 189:Core/Src/main.c **** 	//HAL_UART_Transmit(&huart1, &data_read[0], size, HAL_MAX_DELAY);
 950              		.loc 1 189 2 view .LVU217
 189:Core/Src/main.c **** 	//HAL_UART_Transmit(&huart1, &data_read[0], size, HAL_MAX_DELAY);
 951              		.loc 1 189 45 is_stmt 0 view .LVU218
 952 0090 0DF20440 		addw	r0, sp, #1028
 953 0094 FFF7FEFF 		bl	strlen
ARM GAS  C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s 			page 30


 954              	.LVL57:
 189:Core/Src/main.c **** 	//HAL_UART_Transmit(&huart1, &data_read[0], size, HAL_MAX_DELAY);
 955              		.loc 1 189 2 view .LVU219
 956 0098 6423     		movs	r3, #100
 957 009a 82B2     		uxth	r2, r0
 958 009c 0DF20441 		addw	r1, sp, #1028
 959 00a0 0448     		ldr	r0, .L51+12
 960 00a2 FFF7FEFF 		bl	HAL_UART_Transmit
 961              	.LVL58:
 962              	.L49:
 195:Core/Src/main.c ****   {
 963              		.loc 1 195 3 is_stmt 1 discriminator 1 view .LVU220
 206:Core/Src/main.c ****   /* USER CODE END 3 */
 964              		.loc 1 206 3 discriminator 1 view .LVU221
 195:Core/Src/main.c ****   {
 965              		.loc 1 195 9 discriminator 1 view .LVU222
 966 00a6 FEE7     		b	.L49
 967              	.L52:
 968              		.align	2
 969              	.L51:
 970 00a8 18000000 		.word	.LC0
 971 00ac 24000000 		.word	.LC1
 972 00b0 00000000 		.word	.LC2
 973 00b4 00000000 		.word	.LANCHOR1
 974              		.cfi_endproc
 975              	.LFE74:
 977              		.global	data_buffer
 978              		.global	data_read
 979              		.global	cmd_read_id
 980              		.global	huart1
 981              		.global	hspi1
 982              		.section	.bss.data_buffer,"aw",%nobits
 983              		.align	2
 986              	data_buffer:
 987 0000 00000000 		.space	50
 987      00000000 
 987      00000000 
 987      00000000 
 987      00000000 
 988              		.section	.bss.data_read,"aw",%nobits
 989              		.align	2
 992              	data_read:
 993 0000 00000000 		.space	9
 993      00000000 
 993      00
 994              		.section	.bss.hspi1,"aw",%nobits
 995              		.align	2
 996              		.set	.LANCHOR0,. + 0
 999              	hspi1:
 1000 0000 00000000 		.space	88
 1000      00000000 
 1000      00000000 
 1000      00000000 
 1000      00000000 
 1001              		.section	.bss.huart1,"aw",%nobits
 1002              		.align	2
 1003              		.set	.LANCHOR1,. + 0
ARM GAS  C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s 			page 31


 1006              	huart1:
 1007 0000 00000000 		.space	72
 1007      00000000 
 1007      00000000 
 1007      00000000 
 1007      00000000 
 1008              		.section	.data.cmd_read_id,"aw"
 1011              	cmd_read_id:
 1012 0000 9F       		.byte	-97
 1013              		.text
 1014              	.Letext0:
 1015              		.file 3 "d:\\arm-gcc\\gcc\\arm-none-eabi\\include\\machine\\_default_types.h"
 1016              		.file 4 "d:\\arm-gcc\\gcc\\arm-none-eabi\\include\\sys\\_stdint.h"
 1017              		.file 5 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103x6.h"
 1018              		.file 6 "d:\\arm-gcc\\gcc\\lib\\gcc\\arm-none-eabi\\11.2.1\\include\\stddef.h"
 1019              		.file 7 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 1020              		.file 8 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_rcc.h"
 1021              		.file 9 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_rcc_ex.h"
 1022              		.file 10 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_gpio.h"
 1023              		.file 11 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 1024              		.file 12 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_spi.h"
 1025              		.file 13 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_uart.h"
 1026              		.file 14 "d:\\arm-gcc\\gcc\\arm-none-eabi\\include\\stdio.h"
 1027              		.file 15 "d:\\arm-gcc\\gcc\\arm-none-eabi\\include\\string.h"
 1028              		.file 16 "<built-in>"
 1029              		.file 17 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
ARM GAS  C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s 			page 32


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:18     .text.MX_GPIO_Init:00000000 $t
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:23     .text.MX_GPIO_Init:00000000 MX_GPIO_Init
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:113    .text.MX_GPIO_Init:0000005c $d
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:119    .text.enable_write:00000000 $t
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:125    .text.enable_write:00000000 enable_write
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:172    .text.enable_write:00000034 $d
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:178    .text.disable_write:00000000 $t
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:184    .text.disable_write:00000000 disable_write
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:232    .text.disable_write:00000034 $d
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:238    .text.read_status:00000000 $t
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:244    .text.read_status:00000000 read_status
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:305    .text.read_status:0000004c $d
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:311    .text.wait_until_not_busy:00000000 $t
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:317    .text.wait_until_not_busy:00000000 wait_until_not_busy
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:344    .text.write_data:00000000 $t
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:350    .text.write_data:00000000 write_data
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:437    .text.write_data:0000005c $d
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:443    .text.read_data:00000000 $t
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:449    .text.read_data:00000000 read_data
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:529    .text.read_data:00000054 $d
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:535    .text.Error_Handler:00000000 $t
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:541    .text.Error_Handler:00000000 Error_Handler
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:573    .text.MX_SPI1_Init:00000000 $t
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:578    .text.MX_SPI1_Init:00000000 MX_SPI1_Init
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:647    .text.MX_SPI1_Init:00000038 $d
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:653    .text.MX_USART1_UART_Init:00000000 $t
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:658    .text.MX_USART1_UART_Init:00000000 MX_USART1_UART_Init
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:713    .text.MX_USART1_UART_Init:0000002c $d
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:719    .text.SystemClock_Config:00000000 $t
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:725    .text.SystemClock_Config:00000000 SystemClock_Config
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:830    .rodata.main.str1.4:00000000 $d
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:845    .text.main:00000000 $t
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:851    .text.main:00000000 main
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:970    .text.main:000000a8 $d
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:986    .bss.data_buffer:00000000 data_buffer
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:992    .bss.data_read:00000000 data_read
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:1011   .data.cmd_read_id:00000000 cmd_read_id
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:1006   .bss.huart1:00000000 huart1
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:999    .bss.hspi1:00000000 hspi1
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:983    .bss.data_buffer:00000000 $d
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:989    .bss.data_read:00000000 $d
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:995    .bss.hspi1:00000000 $d
C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s:1002   .bss.huart1:00000000 $d

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
HAL_GPIO_Init
HAL_SPI_Transmit
HAL_SPI_Receive
HAL_SPI_Init
HAL_UART_Init
memset
HAL_RCC_OscConfig
HAL_RCC_ClockConfig
HAL_Init
ARM GAS  C:\Users\Kingj\AppData\Local\Temp\ccShhT7v.s 			page 33


memcpy
strlen
sprintf
HAL_UART_Transmit
